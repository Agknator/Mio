Bueno hace tiempo que no hago esto la verdad es que el problema anda por ahi suelto me hago una idea de que puede pero en realidad me parece que como dice la gente lo tengo en la punta de la
lengua pero como pueden ver aunque el codigo esta bien fraccionado la verdad es que como no se hacerle pruebas unitarias a php no puedo estar encontrando errores 
